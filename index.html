<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Angus Watters - Github Repo" />

<meta name="date" content="2022-08-07" />

<title>Predicting NFL wins using Machine Learning</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="custom.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Predicting NFL wins using Machine
Learning</h1>
<h4 class="author"><a href="https://github.com/anguswg-ucsb">Angus
Watters</a> - <a href="https://github.com/anguswg-ucsb/nfl_wins">Github
Repo</a></h4>
<h4 class="date">August 07, 2022</h4>

</div>


<p><br> <br></p>
<div id="introduction" class="section level1">
<h1><strong>Introduction</strong></h1>
<p>My goal with this project was to try to answer the age-old sports
question, <strong>“Who is supposed to win this game?”</strong>.</p>
<p>I wanted to see if I could use historic information about a team’s
offensive and defensive performances to accurately predict whether or
not they would win their upcoming game.</p>
<p>All data ingestion, processing, analysis, and modeling was done in R,
with help from the <code>tidyverse</code> and <code>tidymodels</code>
ecosystems.</p>
<p><br> <br></p>
<hr />
</div>
<div id="data-retrieval" class="section level1">
<h1><strong>Data Retrieval</strong></h1>
<p>To start, I pulled NFL play-by-play data together using the
<code>nflfastR</code> R package —performing some cleaning and wrangling
tasks to get the data into a usable format.</p>
<p>I utilized the full play-by-play data sets from 1999-2021, which
included some 50,000 plays per season. For each play, there are an
additional <a
href="https://www.nflfastR.com/articles/field_descriptions.html">372
columns of data giving information about what happened on a given
play.</a> In the end I chose to completely omit the 2021 season, using
<<<<<<< HEAD
it as a holdout set of data to test my models against. Another thing to
note is that all the data you see is from the perspective of the home
team, and all model predictions indicate a home win or home loss.</p>
=======
it as a holdout set of data to test my models against. Another thing to note is that all the data
you see is from the perspective of the home team, and all model
predictions indicate a home win or home loss.</p>
>>>>>>> aac59727f490986eb5c4d2144afba5e09c02e8c3
<p><strong>Note:</strong> While exploring data and assembling the
features I wanted to use for modeling, I created a host of utility
helper functions that work off of the play-by-play output data from the
nflfastR package. Those helper functions can be found <a
href="https://github.com/anguswg-ucsb/nfl_wins/blob/main/utils/utils.R">here</a>.</p>
<<<<<<< HEAD
=======
<p>The function below takes in the NFL play-by-play returned from the
<code>nflfastR::load_pbp()</code> function, and aggregates the data to
game level team statistics.</p>
>>>>>>> aac59727f490986eb5c4d2144afba5e09c02e8c3
<p><br> <br> <br></p>
<hr />
</div>
<div id="exploratory-data-analysis" class="section level1">
<h1><strong>Exploratory Data Analysis</strong></h1>
<p>Now that we’ve gone over the main idea, let’s dig into some of the
data and see what we can learn about the NFL and the data we’re working
with.</p>
<p><br></p>
<div id="season-win-totals" class="section level2">
<h2>Season win totals</h2>
<p>The first thing I wanted to see was the average number of games each
NFL franchise won per season between 1999 and 2021. The box plot below
shows the NFL franchises on the X axis, arranged by mean annual win
total, and the average season win totals on the Y axis. The boxes are
colored to match the team colors for each NFL franchise</p>
<p><br></p>
<center>
<p><img src="img/team_win_totals.png" /></p>
</center>
<p><br></p>
<p><strong>TLDR;</strong> Patriots good, Browns bad (sorry
Cleveland!)</p>
<p>This plot mirrors my experience watching the NFL. The New England
Patriots are leading the league with an average of 12.6 wins per season.
The Patriots are followed by the Steelers, Packers, Colts, Ravens—all
teams that have seen consistent success over the last 23 years. At the
bottom of the league for average wins per season are the Browns, Lions,
Jaguars, and the Raiders.</p>
<p><br> <br></p>
</div>
<div id="qb-performances" class="section level2">
<h2>QB performances</h2>
<p>Next, I wanted to see which NFL teams had the best quarterbacks over
the last 23 seasons. To do so, I used the quarterback EPA—a metric that
determines how likely a team is to score points as a result of a play,
and more specifically, the quarterback’s effect on that play.</p>
<p><strong>If a quarterback does something good (e.g. long completion,
runs for a first down), their team is more likely to score points on the
ensuing play and expected points are added (EPA is positive). On the
other hand, if a QB does something bad (incomplete, takes a big sack),
their team is less likely to score points and expected points are
removed (EPA is negative).</strong></p>
<p>The box plot below shows the NFL franchises on the X axis, arranged
by mean QB EPA per play, and the QB EPA per play on the Y axis. Like the
previous plot, the boxes are colored to match the team colors for each
NFL franchise.</p>
<p><br></p>
<center>
<img src="img/qb_epa.png" />
</center>
<p><br></p>
<p><strong>TLDR;</strong> Tom Brady good, long-list-of-Brown’s-QBs
bad</p>
<p>This makes sense. Teams like the Patriots, Packers, and Colts are at
the top of the league in terms of average QB EPA, given that these teams
had great quarterbacks for most of these years (Tom Brady, Brett
Favre/Aaron Rodgers, and Peyton Manning/Andrew Luck, respectively).</p>
<p>This plot matches very closely with the season win totals boxplot,
shown previously. Safe to say, good quarterback play has a positive
impact on winning games.</p>
<p><br> <br></p>
</div>
<div id="relating-end-of-season-win-totals-to-team-metrics"
class="section level2">
<h2>Relating end of season win totals to team metrics</h2>
<p>Next, I wanted to see what the end of season win totals looked like
when plotted against average team level statistics for that season (per
team, across all 23 seasons). The plot below shows 6 team metrics with
the X axis displaying end of season win totals and the Y axis being the
season average for each team.</p>
<p><strong>Note:</strong> The Y axis values are not meant to be compared
across plots, as they differ in units. The purpose of this figure is to
show the relationship between team metrics and end-of-season win totals
(from top left to bottom right):</p>
<p><br></p>
<center>
<img src="img/team_metrics_wins.png" />
</center>
<p><br></p>
<table class=" lightable-material lightable-striped lightable-hover" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Y Axis
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
% Time of possession
</td>
<td style="text-align:left;">
Average percent of the game the team had possession of the ball
</td>
</tr>
<tr>
<td style="text-align:left;">
QB EPA
</td>
<td style="text-align:left;">
EPA value w/ negative values indicating a negative impact on scoring
</td>
</tr>
<tr>
<td style="text-align:left;">
Score Differential
</td>
<td style="text-align:left;">
Average Score Differential
</td>
</tr>
<tr>
<td style="text-align:left;">
Scoring Drive
</td>
<td style="text-align:left;">
Number of scoring drives per game
</td>
</tr>
<tr>
<td style="text-align:left;">
Third Down %
</td>
<td style="text-align:left;">
Average percent of third downs converted to first downs
</td>
</tr>
<tr>
<td style="text-align:left;">
Turnovers
</td>
<td style="text-align:left;">
Number of turnovers per game
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Team metrics that relate to having more total wins at the end of the
season are:</p>
<ul>
<li>Greater % time of possession</li>
<li>Higher QB EPA</li>
<li>Higher score differential</li>
<li>Higher number of scoring drives per game</li>
<li>Higher third down %</li>
<li>Lower number of turnovers per game</li>
</ul>
<p><br> <br></p>
</div>
<div id="elo-rating" class="section level2">
<h2>Elo Rating</h2>
<p>I created an Elo rating system for each season to create a metric
that keeps track of a teams rank relative to the rest of the league. Elo
rating systems were first created to rate chess players and are now
commonly used in many sports such as American Football, baseball,
basketball, etc. Special thanks to the creators of the <a
href="https://eheinzen.github.io/elo/">elo</a> package, your package
made my life a lot easier. Here is more information on <a
href="https://en.wikipedia.org/wiki/Elo_rating_system">Elo Rating
Systems</a> and its inventor <a
href="https://en.wikipedia.org/wiki/Arpad_Elo">Arpad Elo</a>.</p>
<p>Below is a plot displaying each team on the X axis ordered from
lowest to highest average Elo rating per season, with the average Elo
rating on the Y axis.</p>
<p><br></p>
<center>
<img src="img/team_elo_ratings.png" />
</center>
<p><br></p>
<p>Sadly for Browns fans, we see here the same take-home message that we
saw before… Patriots good, Browns bad :’(</p>
<p><br> <br></p>
</div>
<div id="favored-teams" class="section level2">
<h2>Favored teams</h2>
<p>Because I will be making predictions on the outcome of NFL games, I
thought it best to see how the teams favored for any given game
(according to Las Vegas) actually did in those games. How often did the
<strong>team favored by Las Vegas win</strong>? Furthermore, how often
does the <strong>home team win</strong>? How often does a
<strong>favored home team win</strong>? A <strong>favored away
team</strong>?</p>
<p>The black line in the plot below indicates the percent of games won
by the home team per season. The aqua blue line shows the percent of
games that favored home teams won and the coral color line shows the
percent of games that favored away teams won.</p>
<p><br></p>
<center>
<p><img src="img/home_favorite_win_pct2.png" /></p>
</center

<br>
<p>Overall, it looks like a favored home team is winning 5-10% more
games they’re favored in when compared to a favored away team. Anything
else would be surprising, seeing as though playing away from home is an
inherent disadvantage.</p>
<p><br> <br> <br></p>
<hr />
</div>
</div>
<div id="feature-engineering-and-selection" class="section level1">
<h1><strong>Feature engineering and selection</strong></h1>
<p>The features I used in modeling are primarily <strong>offensive
metrics</strong>, with a handful of other <strong>off-field
factors</strong> that I thought might influence a team’s likelihood to
win their upcoming game. For all the metrics described below, I created
two sets of the same metric—one for the home team and one for the away
team.</p>
<p><strong>Note:</strong> Later on, you will see features beginning with
<strong>“opp_”</strong>, which simply means that the feature is
representing the away team.</p>
<p><br></p>
<div id="offense" class="section level2">
<h2>Offense</h2>
<p>Originally, I created many more features for the models to consider
(this included time of possession as a percent of the game, points
scored in each quarter, turnovers by the defense, and many more). As I
made some initial models, however, I found that all of these were not
necessary. The features shown below are the ones that had the most
predictive power, after I trimmed away some of the fat.</p>
<p><br></p>
<table class=" lightable-material lightable-striped lightable-hover" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Model Variable
</th>
<th style="text-align:left;">
Type
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Score Differential
</td>
<td style="text-align:left;">
score_diff
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Average score differential throughout the game
</td>
</tr>
<tr>
<td style="text-align:left;">
Third Down Conversion Rate
</td>
<td style="text-align:left;">
third_down_pct
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Percent of 3rd downs converted by offense
</td>
</tr>
<tr>
<td style="text-align:left;">
Turnovers
</td>
<td style="text-align:left;">
turnovers
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Total Turnovers by the offense (Fumbles lost + Interceptions
</td>
</tr>
<tr>
<td style="text-align:left;">
QB EPA
</td>
<td style="text-align:left;">
qb_epa
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Average Quarterback EPA across the whole game
</td>
</tr>
<tr>
<td style="text-align:left;">
Scoring Drive
</td>
<td style="text-align:left;">
score_drives
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Number of drives in a game that result in a score (touchdown/fieldgoal)
</td>
</tr>
</tbody>
</table>
<p><br> <br></p>
</div>
<div id="off-field-factors" class="section level2">
<h2>Off-field factors</h2>
<p>I also thought it important to include some non-football related
information that can be known prior to the game. These factors include
the number of days of rest between games, the team’s overall, home, and
away winning percentages, and the team’s Elo rating.</p>
<p><br></p>
<table class=" lightable-material lightable-striped lightable-hover" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Model Variable
</th>
<th style="text-align:left;">
Type
</th>
<th style="text-align:left;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Rest days
</td>
<td style="text-align:left;">
rest_days
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Numeric variable for the amount of rest the team had between games
</td>
</tr>
<tr>
<td style="text-align:left;">
Win %
</td>
<td style="text-align:left;">
win_pct
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Percent of all games won
</td>
</tr>
<tr>
<td style="text-align:left;">
Home Win %
</td>
<td style="text-align:left;">
home_win_pct
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Percent of home games won
</td>
</tr>
<tr>
<td style="text-align:left;">
Away Win %
</td>
<td style="text-align:left;">
away_win_pct
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Percent of away games won
</td>
</tr>
<tr>
<td style="text-align:left;">
Elo rating
</td>
<td style="text-align:left;">
elo
</td>
<td style="text-align:left;">
Numeric
</td>
<td style="text-align:left;">
Elo rating per week in each season, relative to rest of the league
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Once all of the above variables were wrangled, cleaned, and
aggregated from the NFL play-by-play data, I was left with a data frame
that had one row for every home game played during the season. Each row
had two columns for each of the variables shown in the tables above, one
for the home team and one for the away team.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>nfl_data <span class="sc">%&gt;%</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 12,274
## Columns: 26
## $ season             &lt;dbl&gt; 1999, 1999, 1999, 1999, 1999, 1999, 1999, 1999, 1999, 1999, 199…
## $ week               &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 1, 2, 3…
## $ game_id            &lt;chr&gt; &quot;1999_01_ARI_PHI&quot;, &quot;1999_02_ARI_MIA&quot;, &quot;1999_03_SF_ARI&quot;, &quot;1999_0…
## $ team               &lt;chr&gt; &quot;ARI&quot;, &quot;ARI&quot;, &quot;ARI&quot;, &quot;ARI&quot;, &quot;ARI&quot;, &quot;ARI&quot;, &quot;ARI&quot;, &quot;ARI&quot;, &quot;ARI&quot;, …
## $ opponent           &lt;chr&gt; &quot;PHI&quot;, &quot;MIA&quot;, &quot;SF&quot;, &quot;DAL&quot;, &quot;NYG&quot;, &quot;WAS&quot;, &quot;NE&quot;, &quot;NYJ&quot;, &quot;DET&quot;, &quot;D…
## $ win                &lt;dbl&gt; 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, …
## $ rest_days          &lt;dbl&gt; 7, 7, 8, 6, 7, 7, 14, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 6, 7, 7,…
## $ opp_rest_days      &lt;dbl&gt; 7, 7, 8, 6, 7, 7, 14, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 6, 7, 7,…
## $ elo                &lt;dbl&gt; 1472.495, 1461.762, 1490.000, 1480.760, 1500.288, 1490.280, 148…
## $ opp_elo            &lt;dbl&gt; 1472.495, 1461.762, 1490.000, 1480.760, 1500.288, 1490.280, 148…
## $ score_diff         &lt;dbl&gt; 1, -3, -14, -28, 11, -14, -24, -5, 4, 4, 10, 4, -25, -10, -23, …
## $ opp_score_diff     &lt;dbl&gt; 1, -3, -14, -28, 11, -14, -24, -5, 4, 4, 10, 4, -25, -10, -23, …
## $ turnovers          &lt;dbl&gt; 4, 4, 3, 5, 0, 4, 2, 1, 1, 2, 1, 2, 4, 1, 2, 4, 3, 4, 1, 3, 2, …
## $ opp_turnovers      &lt;dbl&gt; 4, 4, 3, 5, 0, 4, 2, 1, 1, 2, 1, 2, 4, 1, 2, 4, 3, 4, 1, 3, 2, …
## $ win_pct            &lt;dbl&gt; 1.000, 0.500, 0.333, 0.250, 0.400, 0.333, 0.286, 0.250, 0.333, …
## $ away_win_pct       &lt;dbl&gt; 1.000, 0.500, 0.500, 0.333, 0.333, 0.333, 0.333, 0.250, 0.250, …
## $ home_win_pct       &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.500, 0.333, 0.250, 0.250, 0.400, …
## $ opp_win_pct        &lt;dbl&gt; 1.000, 0.500, 0.333, 0.250, 0.400, 0.333, 0.286, 0.250, 0.333, …
## $ opp_away_win_pct   &lt;dbl&gt; 1.000, 0.500, 0.500, 0.333, 0.333, 0.333, 0.333, 0.250, 0.250, …
## $ opp_home_win_pct   &lt;dbl&gt; 0.000, 0.000, 0.000, 0.000, 0.500, 0.333, 0.250, 0.250, 0.400, …
## $ qb_epa             &lt;dbl&gt; -0.085, -0.180, -0.059, -0.325, -0.100, -0.110, -0.253, -0.140,…
## $ opp_qb_epa         &lt;dbl&gt; -0.085, -0.180, -0.059, -0.325, -0.100, -0.110, -0.253, -0.140,…
## $ third_down_pct     &lt;dbl&gt; 0.389, 0.231, 0.308, 0.353, 0.154, 0.250, 0.188, 0.167, 0.231, …
## $ opp_third_down_pct &lt;dbl&gt; 0.389, 0.231, 0.308, 0.353, 0.154, 0.250, 0.188, 0.167, 0.231, …
## $ score_drives       &lt;dbl&gt; 6, 3, 2, 1, 2, 2, 1, 1, 5, 3, 6, 2, 1, 3, 2, 4, 2, 1, 1, 3, 4, …
## $ opp_score_drives   &lt;dbl&gt; 6, 3, 2, 1, 2, 2, 1, 1, 5, 3, 6, 2, 1, 3, 2, 4, 2, 1, 1, 3, 4, …</code></pre>
<p><br> <br></p>
</div>
<div id="corrolation" class="section level2">
<h2>Corrolation</h2>
<p>Now we can take a look at how our game level summary data relates to
winning a game.</p>
<p>Below is a correlation matrix that highlights the relationship
between variables in the data. We are most interested in the bottom row
of this plot, which indicates the correlation between a team winning and
all the other variables in the data.</p>
<p><br></p>
<p><strong>Note:</strong> Darker green colors indicate positive
correlations while darker red colors indicate negative correlations.</p>
<center>
<img src="img/correlation_home_team.png" />
</center>
<p><br></p>
<p>We can see that Elo rating has a relatively strong, positive
correlation with winning. This makes a lot of sense, as a higher Elo
rating (higher ranked team) is more likely to end up with a win. A
positive correlation for a team’s average score differential is also
intuitive. If a team, on average, has a higher score differential (they
score more points than are scored against them) then they would end up
winning more games. The turnover variable has a strong, negative
correlation with winning. So if a team, on average, has fewer turnovers,
they are also more likely to end up winning the game.</p>
<p>At this point in my analysis, I was working with <strong><em>a
posteriori</em></strong> data, so data that was collected <em>after</em>
the game (i.e. data not available to someone before the game starts,
like the number of turnovers in the game). However, if I wanted to make
any useful predictions about the upcoming week, I would need to create
<strong><em>a priori</em></strong> data (i.e. data available
<em>before</em> the event we want to predict)–which I then did by
applying lags to the data, discussed below.</p>
<p><br> <br></p>
</div>
<div id="cumulative-averages" class="section level2">
<h2>Cumulative Averages</h2>
<p>To capture how well a team is doing throughout each season, I created
lagged cumulative means for all of the above variables. For each week a
team plays, the cumulative mean of the <strong>preceding weeks</strong>
of data are calculated per variable for the upcoming slate of games.</p>
<p>Below is the general method I used to get these lagged cumulative
averages. Note that for variables like winning percentage, the lagged
cumulative average was <strong>not</strong> calculated, and rather, only
the lagged values were used. In the example code below, the lagged
winning percentage and the lagged cumulative average QB EPA is
calculated for the Arizona Cardinals (ARI) 2014 season.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>nfl <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(season <span class="sc">==</span> <span class="dv">2014</span>, team <span class="sc">==</span> <span class="st">&quot;ARI&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(season, week, team, win, win_pct, qb_epa) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(season, team) <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(season, week, <span class="at">.by_group =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(win_pct), <span class="sc">~</span>dplyr<span class="sc">::</span><span class="fu">lag</span>(.x), <span class="at">.names =</span> <span class="st">&quot;{col}_lag&quot;</span>),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(qb_epa),  <span class="sc">~</span>dplyr<span class="sc">::</span><span class="fu">lag</span>(dplyr<span class="sc">::</span><span class="fu">cummean</span>(.x)), <span class="at">.names =</span> <span class="st">&quot;{col}_lag&quot;</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(win_pct<span class="sc">:</span>qb_epa_lag), round, <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(season, week, team, win, win_pct, win_pct_lag, qb_epa, qb_epa_lag)</span></code></pre></div>
<pre><code>## # A tibble: 17 × 8
##    season  week team    win win_pct win_pct_lag qb_epa qb_epa_lag
##     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
##  1   2014     1 ARI       1    1          NA     -0.1       NA   
##  2   2014     2 ARI       1    1           1      0.03      -0.1 
##  3   2014     3 ARI       1    1           1      0.2       -0.04
##  4   2014     5 ARI       0    0.75        1     -0.16       0.04
##  5   2014     6 ARI       1    0.8         0.75  -0.01      -0.01
##  6   2014     7 ARI       1    0.83        0.8    0.09      -0.01
##  7   2014     8 ARI       1    0.86        0.83  -0.03       0.01
##  8   2014     9 ARI       1    0.88        0.86  -0.02       0   
##  9   2014    10 ARI       1    0.89        0.88  -0.11       0   
## 10   2014    11 ARI       1    0.9         0.89  -0.06      -0.01
## 11   2014    12 ARI       0    0.82        0.9   -0.34      -0.02
## 12   2014    13 ARI       0    0.75        0.82  -0.09      -0.05
## 13   2014    14 ARI       1    0.77        0.75   0         -0.05
## 14   2014    15 ARI       1    0.79        0.77  -0.14      -0.05
## 15   2014    16 ARI       0    0.73        0.79  -0.25      -0.05
## 16   2014    17 ARI       0    0.69        0.73   0.09      -0.07
## 17   2014    18 ARI       0    0.65        0.69  -0.4       -0.06</code></pre>
<p><br></p>
<p>If you take a look at Arizona’s week 5 game (row 5), the
<strong>win_pct_lag</strong> column for week 5 is represented by the
teams <strong>win_pct</strong> from the previous week—week 4 in this
case. In other words, this is the team’s winning percentage leading into
the week 5 matchup. In contrast, the <strong>qb_epa_lag</strong> column
was calculated using the mean of <strong>qb_epa</strong> from weeks
1-4.</p>
<p>I did this lagging process across all variables, such that each row
with a game outcome (win/loss) has variables representing team
performance up until that point in the season.</p>
<p>Now our data is set up such that all information informing our
predictions is data that would be available <strong>prior</strong> to
the upcoming week of games. This is important because information such
as the number of touchdowns scored in the game simply isn’t available
beforehand, and thus, can’t be used as a predictor in our model. We can
only use historic data to inform our predictions.</p>
<p><br> <br> <br></p>
<hr />
</div>
</div>
<div id="modeling" class="section level1">
<h1><strong>Modeling</strong></h1>
<p>I decided I wanted to run my data across a panel of 7 different
models and see how they all perform against each other</p>
<ul>
<li><a
href="https://parsnip.tidymodels.org/reference/details_logistic_reg_glmnet.html">Logistic
Regression</a></li>
<li><a
href="https://parsnip.tidymodels.org/reference/details_nearest_neighbor_kknn.html">K-nearest
neighbors</a></li>
<li><a
href="https://parsnip.tidymodels.org/reference/details_boost_tree_xgboost.html">Gradient
Boosted Decision Trees</a></li>
<li><a
href="https://parsnip.tidymodels.org/reference/details_mlp_nnet.html">Multilayer
Perceptron</a></li>
<li><a
href="https://parsnip.tidymodels.org/reference/details_svm_linear_kernlab.html">Linear
Support Vector Machines</a></li>
<li><a
href="https://parsnip.tidymodels.org/reference/details_svm_rbf_kernlab.html">Radial
basis function Support Vector Machines</a></li>
<li><a
href="https://parsnip.tidymodels.org/reference/details_svm_poly_kernlab.html">Polynomial
Support Vector Machines</a></li>
</ul>
<p><br></p>
<div id="data-splits" class="section level2">
<h2>Data splits</h2>
<p>The first step here was to split up the data into testing and
training splits (75% training, 25% testing). When splitting, I chose to
stratify the data by binary win/loss values to ensure there was an equal
proportion of wins and losses in our training/testing splits.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set random seed</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">234</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Partition training/testing data, stratified by win/loss</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>nfl_split <span class="ot">&lt;-</span> rsample<span class="sc">::</span><span class="fu">initial_split</span>(nfl_df, <span class="at">strata =</span> win)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># training data split - 75%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>nfl_train <span class="ot">&lt;-</span> rsample<span class="sc">::</span><span class="fu">training</span>(nfl_split)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># testinng data split - 25%</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>nfl_test  <span class="ot">&lt;-</span> rsample<span class="sc">::</span><span class="fu">testing</span>(nfl_split)</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Partition training/testing data, stratified by win/loss</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>nfl_split</span></code></pre></div>
<pre><code>## &lt;Training/Testing/Total&gt;
## &lt;4115/1373/5488&gt;</code></pre>
<p><br></p>
</div>
<div id="data-preprocessing" class="section level2">
<h2>Data Preprocessing</h2>
<p>Using the <code>recipes</code> package, I made ID variables for
information about the game. I then applied some recipe steps to my
training data. Because I decided to only use home team data, there were
going to be more wins than losses in my dataset (the home team tends to
win more often than the away team: 56% wins / 44% losses). To account
for this slight imbalance, I chose to use the <code>themis</code>
package to upsample my data using the <code>themis::step_smote()</code>
function.</p>
<div id="recipe-steps" class="section level3">
<h3>Recipe steps</h3>
<ul>
<li><code>step_zv</code> is applied to all predictors to remove all
variables with only one value (zero-variance)</li>
<li><code>step_normalize</code> is used to normalize all the numeric
predictors in the training data so that they all have a standard
deviation of 1 and a mean of 0</li>
<li><code>step_smote</code> is applied to our dependent
<strong>win</strong> variable to fix the class imbalance due to having
slightly more wins than losses in the data. The <code>step_smote</code>
function works by upsampling the minority class and generating new,
synthetic data by using the nearest-neighbors of the minority class
instances.</li>
</ul>
<p>Below I create the two recipe steps that we will apply to our
training data before modeling.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Base recipe</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>base_recipe <span class="ot">&lt;-</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  recipes<span class="sc">::</span><span class="fu">recipe</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> win <span class="sc">~</span> ., </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data    =</span> nfl_train</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  recipes<span class="sc">::</span><span class="fu">update_role</span>(</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    game_id, team, opponent, season, week, <span class="at">new_role =</span> <span class="st">&quot;ID&quot;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Normalize, SMOTE algorithm upsampling recipe</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>norm_smote_recipe <span class="ot">&lt;-</span> </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  base_recipe <span class="sc">%&gt;%</span> </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  recipes<span class="sc">::</span><span class="fu">step_zv</span>(recipes<span class="sc">::</span><span class="fu">all_predictors</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  recipes<span class="sc">::</span><span class="fu">step_normalize</span>(recipes<span class="sc">::</span><span class="fu">all_numeric_predictors</span>())</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  themis<span class="sc">::</span><span class="fu">step_smote</span>(win, <span class="at">over_ratio =</span> <span class="fl">0.9</span>,  <span class="at">skip =</span> T)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co"># zero variance SMOTE algorithm upsampling recipe</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>zv_smote_recipe <span class="ot">&lt;-</span> </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  base_recipe <span class="sc">%&gt;%</span> </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  recipes<span class="sc">::</span><span class="fu">step_zv</span>(<span class="fu">all_predictors</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  themis<span class="sc">::</span><span class="fu">step_smote</span>(win, <span class="at">over_ratio =</span> <span class="fl">0.9</span>,  <span class="at">skip =</span> T)</span></code></pre></div>
<p><br> <br></p>
</div>
</div>
<div id="cross-validation-folds" class="section level2">
<h2>Cross-validation folds</h2>
<p>I created 10 cross-validation folds from the training data. As I did
with the initial training/testing split, I made sure to create
<strong>stratified resamples using the win/loss variable to ensure the
same proportion of wins and losses appear in each CV fold as the do in
the original data.</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set random seed </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">432</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Cross-validation folds</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>nfl_folds <span class="ot">&lt;-</span> rsample<span class="sc">::</span><span class="fu">vfold_cv</span>(nfl_train, <span class="at">v =</span> <span class="dv">10</span>, <span class="at">strata =</span> win)</span></code></pre></div>
<p><br> <br></p>
</div>
<div id="workflow-sets" class="section level2">
<h2>Workflow sets</h2>
<p>Using the <code>workflowsets</code> I created a
<code>workflow_set</code> object containing each of the data
preprocessing recipes and corresponding model specifications.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Workflow set of candidate models</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>nfl_wfs <span class="ot">&lt;-</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  workflowsets<span class="sc">::</span><span class="fu">workflow_set</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">preproc =</span> <span class="fu">list</span>(</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">kknn_rec        =</span> norm_smote_recipe,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">glmnet_rec      =</span> norm_smote_recipe,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">xgboost_rec     =</span> zv_smote_recipe,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">nnet_rec        =</span> norm_smote_recipe,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">svm_lin_rec     =</span> norm_smote_recipe,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">svm_poly_rec    =</span> norm_smote_recipe,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">svm_rbf_rec     =</span> norm_smote_recipe</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">models  =</span> <span class="fu">list</span>(</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">knn            =</span> knn_spec,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">glmnet         =</span> glmnet_spec,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">xgboost        =</span> xgboost_spec,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">nnet           =</span> nnet_spec,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">svm_lin        =</span> svm_lin_spec,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">svm_poly       =</span> svm_poly_spec,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">svm_rbf        =</span> svm_spec</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">cross =</span> F</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><br> <br></p>
</div>
<div id="tuning-hyperparameters" class="section level2">
<h2>Tuning Hyperparameters</h2>
<p>The next step was to tune hyperparameters for each of our models.
Using the <code>tune</code> package, I applied the
<code>tune::tune_grid()</code> function across the workflowset object
containing the model recipes and specifications. Twenty random candidate
parameters were then created using the
<code>dials::grid_latin_hypercube()</code> function from the
<code>dials</code> package.</p>
<div id="parallel-processing" class="section level3">
<h3>Parallel processing</h3>
<p>The training/testing phase is the most time consuming and resource
intensive process of a machine learning workflow. In order to speed up
the process, I ran the tuning process across multiple cores on my
computer—making use of the computer’s multiple processors</p>
</div>
<div id="racing-methods" class="section level3">
<h3>Racing methods</h3>
<p>To get another boost in processing time, I made use of the
<code>finetune</code> package and the
<code>finetune::tune_race_anova</code> function. This applies a repeated
measure ANOVA model to iteratively eliminate tuning parameters that are
unlikely to yield the best results. Combining <strong>parallel
processing</strong> and <strong>racing methods</strong> can improve
processing times by <a
href="https://finetune.tidymodels.org/reference/tune_race_anova.html">~35
fold</a>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Choose metrics</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>met_set <span class="ot">&lt;-</span> yardstick<span class="sc">::</span><span class="fu">metric_set</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  roc_auc, accuracy, mn_log_loss, </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  sensitivity, specificity, j_index</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up parallelization, using computer&#39;s other cores</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>parallel<span class="sc">::</span><span class="fu">detectCores</span>(<span class="at">logical =</span> <span class="cn">FALSE</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>modeltime<span class="sc">::</span><span class="fu">parallel_start</span>(<span class="dv">6</span>, <span class="at">.method =</span> <span class="st">&quot;parallel&quot;</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Set Random seed</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">589</span>)</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Efficient Tuning of models in workflowset</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>nfl_wfs <span class="ot">&lt;-</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  nfl_wfs <span class="sc">%&gt;%</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  workflowsets<span class="sc">::</span><span class="fu">workflow_map</span>(</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;tune_race_anova&quot;</span>,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">resamples =</span> nfl_folds,</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid      =</span> <span class="dv">20</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">metrics   =</span> met_set,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> finetune<span class="sc">::</span><span class="fu">control_race</span>(</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">verbose       =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">save_pred     =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">verbose_elim  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">save_workflow =</span> <span class="cn">TRUE</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">verbose   =</span> <span class="cn">TRUE</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Start parallel clusters</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>modeltime<span class="sc">::</span><span class="fu">parallel_stop</span>()</span></code></pre></div>
<p><br> <br> <br></p>
<hr />
</div>
</div>
</div>
<div id="model-evaluation" class="section level1">
<h1><strong>Model Evaluation</strong></h1>
<p>Now we can see how our models did compared to one another to decide
which is best suited for making accurate predictions. The plots below
show how the 7 models performed on the set of resampling data.</p>
<center>
<img src="img/class_model_ranks.png" />
</center>
<p>If you take a look at the <strong>ROC AUC</strong> and <strong>mean
log loss plots</strong> the best performing models are the Logistic
Regression (logistic_reg), the Support Vector Machines
(svm_linear/svm_poly/svm_rbf), the Multilayer Perceptron (mlp) and the
Gradient Boosted Decision Trees (boost_trees).</p>
<p>In particular, boost_trees performs at approximately the same level
as the mlp model, when it comes to correctly predicting wins
(sensitivity) and correctly predicting losses (specificity), without the
increase in log loss.</p>
<p>A standard threshold for log loss as it pertains to binary
predictions is ~0.69; anything higher than that and you aren’t beating
the probability of a 50-50 guess. The table below shows the mean log
loss for each mode, the best being 0. The larger the number gets the
worse the model is at predicting the correct outcome.</p>
<p>The table below shows the performance metrics for each model.</p>
<p><br></p>
<table class=" lightable-material lightable-striped lightable-hover" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
model
</th>
<th style="text-align:center;">
rank
</th>
<th style="text-align:center;">
accuracy
</th>
<th style="text-align:center;">
mean_log_loss
</th>
<th style="text-align:center;">
roc_auc
</th>
<th style="text-align:center;">
sensitivity
</th>
<th style="text-align:center;">
specificity
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
logistic_reg
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.60
</td>
<td style="text-align:center;">
0.74
</td>
<td style="text-align:center;">
0.71
</td>
<td style="text-align:center;">
0.62
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_linear
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.60
</td>
<td style="text-align:center;">
0.74
</td>
<td style="text-align:center;">
0.70
</td>
<td style="text-align:center;">
0.62
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_poly
</td>
<td style="text-align:center;">
18
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.60
</td>
<td style="text-align:center;">
0.74
</td>
<td style="text-align:center;">
0.70
</td>
<td style="text-align:center;">
0.63
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_rbf
</td>
<td style="text-align:center;">
19
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.60
</td>
<td style="text-align:center;">
0.73
</td>
<td style="text-align:center;">
0.70
</td>
<td style="text-align:center;">
0.62
</td>
</tr>
<tr>
<td style="text-align:center;">
mlp
</td>
<td style="text-align:center;">
20
</td>
<td style="text-align:center;">
0.66
</td>
<td style="text-align:center;">
0.63
</td>
<td style="text-align:center;">
0.73
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.65
</td>
</tr>
<tr>
<td style="text-align:center;">
boost_tree
</td>
<td style="text-align:center;">
22
</td>
<td style="text-align:center;">
0.66
</td>
<td style="text-align:center;">
0.60
</td>
<td style="text-align:center;">
0.73
</td>
<td style="text-align:center;">
0.68
</td>
<td style="text-align:center;">
0.64
</td>
</tr>
<tr>
<td style="text-align:center;">
nearest_neighbor
</td>
<td style="text-align:center;">
28
</td>
<td style="text-align:center;">
0.62
</td>
<td style="text-align:center;">
0.80
</td>
<td style="text-align:center;">
0.66
</td>
<td style="text-align:center;">
0.63
</td>
<td style="text-align:center;">
0.61
</td>
</tr>
</tbody>
</table>
<p><br> <br></p>
<div id="variable-importance" class="section level2">
<h2>Variable Importance</h2>
<p>Looking at variable importance plots (generated from the
<code>vip</code> package) can give us an idea of which variables are
most important to our models.</p>
<p>Below are the variable importance scores for the Logistic Regression,
XGBoost, and Multilayer Perceptron models. If you want to <a
href="https://cran.r-project.org/web/packages/vip/vignettes/vip-introduction.pdf">read
more about what makes up the variable importance scores for each model
you can click here</a>.</p>
<p><br></p>
<p><strong>Note:</strong> <code>vip</code> does not currently support
SVM models, hence why no variable importance plots are shown for the
Linear SVM.</p>
<p><br></p>
<center>
<img src="img/var_importance.png" />
</center>
<p><br></p>
<p>The most important variables in both models looks to be the team’s
Elo ratings, the cumulative average score differential and the
opponent’s winning percentage.</p>
<p><br> <br> <br></p>
<hr />
</div>
</div>
<div id="model-performance-on-test-data" class="section level1">
<h1><strong>Model Performance on Test Data</strong></h1>
<p>Next, I selected tuning parameters for each model that had the best
performance metrics on the data resamples. Using these model parameters,
I refit each model one last time using just the initial data split
(fitting on training data and evaluating on testing data). I then used
the final fitted models to make predictions. Let’s check out the
results!</p>
<p><br></p>
<center>
<img src="img/train_test_metrics.png" />
</center>
<p><br></p>
<p>And in table form…</p>
<p><br> <br></p>
<table class=" lightable-material lightable-striped lightable-hover" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
Model
</th>
<th style="text-align:center;">
Data split
</th>
<th style="text-align:center;">
accuracy
</th>
<th style="text-align:center;">
mean_log_loss
</th>
<th style="text-align:center;">
roc_auc
</th>
<th style="text-align:center;">
sensitivity
</th>
<th style="text-align:center;">
specificity
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
nearest_neighbor
</td>
<td style="text-align:center;">
<span style="     color: #F8766D !important;">train</span>
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.57
</td>
<td style="text-align:center;">
0.77
</td>
<td style="text-align:center;">
0.68
</td>
<td style="text-align:center;">
0.69
</td>
</tr>
<tr>
<td style="text-align:center;">
nearest_neighbor
</td>
<td style="text-align:center;">
<span style="     color: #00BFC4 !important;">test</span>
</td>
<td style="text-align:center;">
0.63
</td>
<td style="text-align:center;">
0.85
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.63
</td>
<td style="text-align:center;">
0.63
</td>
</tr>
<tr>
<td style="text-align:center;">
logistic_reg
</td>
<td style="text-align:center;">
<span style="     color: #F8766D !important;">train</span>
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.59
</td>
<td style="text-align:center;">
0.74
</td>
<td style="text-align:center;">
0.70
</td>
<td style="text-align:center;">
0.63
</td>
</tr>
<tr>
<td style="text-align:center;">
logistic_reg
</td>
<td style="text-align:center;">
<span style="     color: #00BFC4 !important;">test</span>
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.58
</td>
<td style="text-align:center;">
0.76
</td>
<td style="text-align:center;">
0.72
</td>
<td style="text-align:center;">
0.65
</td>
</tr>
<tr>
<td style="text-align:center;">
boost_tree
</td>
<td style="text-align:center;">
<span style="     color: #F8766D !important;">train</span>
</td>
<td style="text-align:center;">
0.71
</td>
<td style="text-align:center;">
0.60
</td>
<td style="text-align:center;">
0.78
</td>
<td style="text-align:center;">
0.73
</td>
<td style="text-align:center;">
0.68
</td>
</tr>
<tr>
<td style="text-align:center;">
boost_tree
</td>
<td style="text-align:center;">
<span style="     color: #00BFC4 !important;">test</span>
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.61
</td>
<td style="text-align:center;">
0.75
</td>
<td style="text-align:center;">
0.72
</td>
<td style="text-align:center;">
0.66
</td>
</tr>
<tr>
<td style="text-align:center;">
mlp
</td>
<td style="text-align:center;">
<span style="     color: #F8766D !important;">train</span>
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.62
</td>
<td style="text-align:center;">
0.74
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.65
</td>
</tr>
<tr>
<td style="text-align:center;">
mlp
</td>
<td style="text-align:center;">
<span style="     color: #00BFC4 !important;">test</span>
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.62
</td>
<td style="text-align:center;">
0.76
</td>
<td style="text-align:center;">
0.70
</td>
<td style="text-align:center;">
0.67
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_linear
</td>
<td style="text-align:center;">
<span style="     color: #F8766D !important;">train</span>
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.59
</td>
<td style="text-align:center;">
0.74
</td>
<td style="text-align:center;">
0.70
</td>
<td style="text-align:center;">
0.63
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_linear
</td>
<td style="text-align:center;">
<span style="     color: #00BFC4 !important;">test</span>
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.58
</td>
<td style="text-align:center;">
0.76
</td>
<td style="text-align:center;">
0.72
</td>
<td style="text-align:center;">
0.65
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_poly
</td>
<td style="text-align:center;">
<span style="     color: #F8766D !important;">train</span>
</td>
<td style="text-align:center;">
0.68
</td>
<td style="text-align:center;">
0.59
</td>
<td style="text-align:center;">
0.74
</td>
<td style="text-align:center;">
0.71
</td>
<td style="text-align:center;">
0.63
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_poly
</td>
<td style="text-align:center;">
<span style="     color: #00BFC4 !important;">test</span>
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.58
</td>
<td style="text-align:center;">
0.76
</td>
<td style="text-align:center;">
0.72
</td>
<td style="text-align:center;">
0.65
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_rbf
</td>
<td style="text-align:center;">
<span style="     color: #F8766D !important;">train</span>
</td>
<td style="text-align:center;">
0.68
</td>
<td style="text-align:center;">
0.58
</td>
<td style="text-align:center;">
0.75
</td>
<td style="text-align:center;">
0.72
</td>
<td style="text-align:center;">
0.64
</td>
</tr>
<tr>
<td style="text-align:center;">
svm_rbf
</td>
<td style="text-align:center;">
<span style="     color: #00BFC4 !important;">test</span>
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.58
</td>
<td style="text-align:center;">
0.76
</td>
<td style="text-align:center;">
0.72
</td>
<td style="text-align:center;">
0.65
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>You can see that the nearest neighbor model sees a big drop in mean
log loss between training and testing data. Besides this, the remaining
models appear to perform similarly with both training and testing data,
which gives us some more confidence that these models would perform
similarly in the real world.</p>
<p><br> <br></p>
<div id="roc-curves" class="section level2">
<h2>ROC Curves</h2>
<p>Receiver Operator Characteristic curves, (ROC curves) are a way of
understanding how well a model is predicting the True Positive events
vs. the False Positive events.</p>
<p>In our scenario of predicting a team’s win, <strong>a True Positive
event would be where the model predicts a win and the team actually
wins. A False Positive event, in contrast, would be where the model
predicts a win and the team actually loses.</strong></p>
<p>The True Positive Rate (TPR) is on the Y axis and the False Positive
Rate (FPR) is on the X axis of the graph below.</p>
<p>The TPR, or <strong>sensitivity</strong>, along the Y axis indicates
the probability that the model predicted a win and the team actually
won. While the FPR, or <strong>1 - specificity</strong>, along the X
axis indicates the probability that the model predicted a win and the
team actually lost.</p>
<p>The closer the ROC curve to the top left corner of the plot, the
better the model is at correctly classifying the data. A perfect ROC
Curve would be at a 90 degree angle along the top left corner of the
plot, and would indicate that the model is able to perfectly classify
the data correctly.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>roc_curve <span class="ot">&lt;-</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  roc_df <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_abline</span>(</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">lty   =</span> <span class="dv">2</span>, </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.7</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">size  =</span> <span class="dv">1</span>)  <span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_line</span>(</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    ggplot2<span class="sc">::</span><span class="fu">aes</span>(</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">x     =</span> <span class="dv">1</span> <span class="sc">-</span> specificity, </span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">y     =</span> sensitivity,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> model), </span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.6</span>, </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">size  =</span> <span class="dv">1</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_color_manual</span>(</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;red3&quot;</span>, <span class="st">&quot;darkorange&quot;</span>, <span class="st">&quot;forestgreen&quot;</span>, </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>               <span class="st">&quot;hotpink&quot;</span>,  <span class="st">&quot;dodgerblue3&quot;</span>, <span class="st">&quot;cyan3&quot;</span>, <span class="st">&quot;midnightblue&quot;</span>)</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">coord_equal</span>() <span class="sc">+</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">labs</span>(</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">title    =</span> <span class="st">&quot;ROC Curves&quot;</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">subtitle =</span> <span class="st">&quot;Test data&quot;</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">x        =</span> <span class="st">&quot;False Positive Rate (1 - Specificity)&quot;</span>,</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">y        =</span> <span class="st">&quot;True Positive Rate (Sensitivity)&quot;</span>,</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">col      =</span> <span class="st">&quot;Models&quot;</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    )  <span class="sc">+</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>  apatheme </span></code></pre></div>
<center>
<img src="img/roc_curve.png" />
</center>
<p><br></p>
<p>It looks like all of the models are performing similarly on the test
data except for the K-nearest neighbors model, which is notably worse at
classifying the data. This ROC curve visually confirms what we saw in
the model metric summary table. Given these metrics, I will drop the K
nearest neighbors and focus on the rest of the models. Additionally, I
will only use the best performing SVM model which looks to be the Linear
SVM.</p>
<p><br> <br></p>
</div>
<div id="confusion-matrices" class="section level2">
<h2>Confusion Matrices</h2>
<p>A confusion matrix is a helpful way of understanding where a
classification model is correct or incorrect in it’s predictions. At
first glance, I thought the name confusion matrix came from the fact
that <em>I was confused</em>. Turns out the name has more meaning, its
purpose is to highlight <em>where a classification model is confused in
its predictions</em>…</p>
<p><br></p>
<center>
<img src="img/cm_plot.png" />
</center>
<p><br></p>
<p><strong>A few notes from looking at this confusion matrix:</strong> -
All three of my models do a better job of correctly predicting losses in
the test data than Las Vegas did in the same games</p>
<ul>
<li><p>Las Vegas’s predicted more correct game winners than any of the
models.</p></li>
<li><p>All of the models made more correct predictions than Las Vegas
(higher specificity), doing a better job at correctly predicting losses
than Las Vegas, while being worse at predicting wins</p></li>
<li><p>The Multilayer Perceptron model correctly predicted nearly 100
more losses than the Las Vegas model!</p></li>
<li><p>~35% of correct predictions are losses, the remaining ~65% are
correctly predicted wins (~43% of the test data were actual losses so
this isn’t <strong><em>too</em></strong> far off)</p></li>
<li><p>For this data/domain, having the model predict more wins than
losses makes logical sense, <strong>the home team tends to win more
often than they lose</strong>, and our data is entirely from the home
team perspective</p></li>
<li><p>The models excel at correctly predicting the True Negative cases,
and correctly identify the True positive cases at a slightly lower rate
than Las Vegas does</p></li>
<li><p>In general, the models have the most trouble classifying the
False Positive cases</p></li>
</ul>
<p><br></p>
<p>And here are the summary statistics for these confusion matrices</p>
<p><br></p>
<table class=" lightable-material lightable-striped lightable-hover" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
Model
</th>
<th style="text-align:center;">
Accuracy
</th>
<th style="text-align:center;">
Misclassification
</th>
<th style="text-align:center;">
Precision
</th>
<th style="text-align:center;">
Sensitivity
</th>
<th style="text-align:center;">
Specificity
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Vegas
</td>
<td style="text-align:center;">
0.67
</td>
<td style="text-align:center;">
0.33
</td>
<td style="text-align:center;">
0.79
</td>
<td style="text-align:center;">
0.68
</td>
<td style="text-align:center;">
0.64
</td>
</tr>
<tr>
<td style="text-align:center;">
Logisitc Reg.
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.31
</td>
<td style="text-align:center;">
0.72
</td>
<td style="text-align:center;">
0.73
</td>
<td style="text-align:center;">
0.63
</td>
</tr>
<tr>
<td style="text-align:center;">
SVM RBF
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.31
</td>
<td style="text-align:center;">
0.72
</td>
<td style="text-align:center;">
0.73
</td>
<td style="text-align:center;">
0.64
</td>
</tr>
<tr>
<td style="text-align:center;">
XGBoost
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.31
</td>
<td style="text-align:center;">
0.71
</td>
<td style="text-align:center;">
0.73
</td>
<td style="text-align:center;">
0.63
</td>
</tr>
<tr>
<td style="text-align:center;">
MLP
</td>
<td style="text-align:center;">
0.69
</td>
<td style="text-align:center;">
0.31
</td>
<td style="text-align:center;">
0.70
</td>
<td style="text-align:center;">
0.74
</td>
<td style="text-align:center;">
0.63
</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Taking a look at just the SVM model in the table above, we see a
<strong>sensitivity</strong> of ~0.73, which means the SVM model
<strong><em>correctly predicted the home team to win 73% of the
time.</em></strong> The <strong>specificity</strong> of 0.64 indicates
that <strong><em>64% of home team losses were correctly
predicted</em></strong>. Overall, the models all had comparable
performance metrics and appear to correctly identify wins and losses for
the home team at the same rate.</p>
<p><br></p>
<hr />
</div>
<div id="prediction-from-the-test-data" class="section level2">
<h2>Prediction from the test data</h2>
<p>Let’s look at how the models performed on the 25% of the data that we
set aside for testing. We can now generate predictions for the 1373
games in our testing dataset, and calculate the percent of games per
year where our models correctly predicted the outcome (shown in the
graph below).</p>
<p><br></p>
<center>
<img src="img/test_data_prediction_plot.png" />
</center>
<p><br> <br></p>
<hr />
</div>
<div id="holdout-dataset-2021-predictions" class="section level2">
<h2>Holdout dataset (2021 Predictions)</h2>
<p>Further, let’s apply the fitted models to the 2021 season holdout
data to see how those predictions fare against Vegas’. In doing so, we
can visualize the percent of 2021 games Las Vegas correctly predicted
and compare it to that of the ML models.</p>
<p>In the graph below, the X axis has the percent of correct predictions
and the Y axis is each week of the NFL season.</p>
<p><br></p>
<center>
<img src="img/holdout_facet_line_plot.png" />
</center>
<p><br></p>
<p>Looks like our predictions are right in line with Vegas! Some weeks
we do a little better than Vegas, some weeks a little worse.</p>
<p><br> <br> <br></p>
<hr />
</div>
</div>
<div id="weekly-results" class="section level1">
<h1><strong>Weekly Results</strong></h1>
<p>The table below shows actual outcomes of the 2021 season, the favored
team according to Las Vegas, and predictions from our fitted models.
Green cells indicate that the prediction lined up with the actual game
outcome, whereas red means that the prediction was incorrect. Note that
the table is from the home team’s perspective (i.e. a win in the
actual_outcome column means the home team won).</p>
<p>First, let’s check out a week where our models outperformed
Vegas.</p>
<p><br></p>
<div id="good-week-of-predictions" class="section level2">
<h2>Good week of predictions</h2>
<p>All of our models did better than Vegas in week 12 (i.e. we correctly
predicted the outcome more that Vegas did)</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A week with more correct predictions than Las Vegas</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>good_week <span class="ot">&lt;-</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  pred_table <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(week <span class="sc">==</span> <span class="dv">12</span>) </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Color code TP and TN as green and FP and FN as red</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>good_week_color <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(good_week[, <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)] <span class="sc">==</span> good_week[, <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>)],</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                          <span class="st">&quot;#85E088&quot;</span>, <span class="st">&quot;indianred2&quot;</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Flextable with color coding</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>good_week <span class="sc">%&gt;%</span> </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">flextable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">bg</span>(<span class="at">j =</span> <span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">9</span>), <span class="at">bg =</span> good_week_color) <span class="sc">%&gt;%</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">add_header_row</span>(</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">values    =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="st">&quot;Vegas&quot;</span>, <span class="st">&quot;Models&quot;</span>),</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">colwidths =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">theme_box</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">align</span>(<span class="at">align =</span> <span class="st">&quot;center&quot;</span>, <span class="at">part =</span> <span class="st">&quot;all&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">fit_to_width</span>(<span class="at">max_width =</span> <span class="dv">6</span>)</span></code></pre></div>
<template id="64a777a8-ddba-4356-94db-d12babf4c2e7"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-2f5b5baa{}.cl-2f51b3c0{font-family:'Arial';font-size:6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2f51b3d4{font-family:'Arial';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2f51c608{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2f520e1a{width:41.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e24{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e2e{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e2f{width:51.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e38{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e39{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e42{width:40.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e43{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e4c{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e4d{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e4e{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e4f{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e56{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e57{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e58{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e59{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e60{width:46.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e61{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e62{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e6a{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e74{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e75{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e76{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e77{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e7e{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e7f{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e88{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e89{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e8a{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e92{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e93{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e94{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e9c{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e9d{width:40.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e9e{width:51.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520e9f{width:41.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ea6{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ea7{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ea8{width:40.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ea9{width:46.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520eb0{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520eb1{width:51.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520eb2{width:41.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520eba{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ebb{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ec4{width:46.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ec5{width:51.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ec6{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ece{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ecf{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ed0{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ed8{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ed9{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520eda{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520edb{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ee2{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ee3{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ee4{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520eec{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520eed{width:41.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ef6{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520ef7{width:51.3pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520f00{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520f01{width:40.3pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520f0a{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520f0b{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2f520f0c{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-2f5b5baa'>
<thead><tr style="overflow-wrap:break-word;"><td  colspan="4"class="cl-2f520f00"><p class="cl-2f51c608"><span class="cl-2f51b3c0"> </span></p></td><td class="cl-2f520f0a"><p class="cl-2f51c608"><span class="cl-2f51b3c0">Vegas</span></p></td><td  colspan="4"class="cl-2f520ef7"><p class="cl-2f51c608"><span class="cl-2f51b3c0">Models</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520f00"><p class="cl-2f51c608"><span class="cl-2f51b3c0">week</span></p></td><td class="cl-2f520f0c"><p class="cl-2f51c608"><span class="cl-2f51b3c0">home_team</span></p></td><td class="cl-2f520ef6"><p class="cl-2f51c608"><span class="cl-2f51b3c0">away_team</span></p></td><td class="cl-2f520f0b"><p class="cl-2f51c608"><span class="cl-2f51b3c0">actual_outcome</span></p></td><td class="cl-2f520f0a"><p class="cl-2f51c608"><span class="cl-2f51b3c0">vegas_pred</span></p></td><td class="cl-2f520ef7"><p class="cl-2f51c608"><span class="cl-2f51b3c0">log_reg_pred</span></p></td><td class="cl-2f520eed"><p class="cl-2f51c608"><span class="cl-2f51b3c0">svm_pred</span></p></td><td class="cl-2f520f01"><p class="cl-2f51c608"><span class="cl-2f51b3c0">xgb_pred</span></p></td><td class="cl-2f520f01"><p class="cl-2f51c608"><span class="cl-2f51b3c0">mlp_pred</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-2f520e38"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e24"><p class="cl-2f51c608"><span class="cl-2f51b3d4">BAL</span></p></td><td class="cl-2f520e43"><p class="cl-2f51c608"><span class="cl-2f51b3d4">CLE</span></p></td><td class="cl-2f520e39"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e4c"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e2f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e1a"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e2e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e42"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e59"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e56"><p class="cl-2f51c608"><span class="cl-2f51b3d4">CIN</span></p></td><td class="cl-2f520e4d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">PIT</span></p></td><td class="cl-2f520e4f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520ea6"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e58"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e4e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520ea7"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520eb0"><p class="cl-2f51c608"><span class="cl-2f51b3d4">DAL</span></p></td><td class="cl-2f520ebb"><p class="cl-2f51c608"><span class="cl-2f51b3d4">LV</span></p></td><td class="cl-2f520eba"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ea9"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520eb1"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520eb2"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520ea8"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520ea8"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e59"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e56"><p class="cl-2f51c608"><span class="cl-2f51b3d4">DEN</span></p></td><td class="cl-2f520e4d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">LAC</span></p></td><td class="cl-2f520e4f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e60"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e58"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e4e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e9d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e59"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e56"><p class="cl-2f51c608"><span class="cl-2f51b3d4">DET</span></p></td><td class="cl-2f520e4d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">CHI</span></p></td><td class="cl-2f520e4f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ea6"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e58"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e4e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e59"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e56"><p class="cl-2f51c608"><span class="cl-2f51b3d4">GB</span></p></td><td class="cl-2f520e4d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">LA</span></p></td><td class="cl-2f520e4f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e60"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e9e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e9f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e9d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e92"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e94"><p class="cl-2f51c608"><span class="cl-2f51b3d4">HOU</span></p></td><td class="cl-2f520e7f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">NYJ</span></p></td><td class="cl-2f520e89"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ec4"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520ec5"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e88"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e8a"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e8a"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520ea7"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520eb0"><p class="cl-2f51c608"><span class="cl-2f51b3d4">IND</span></p></td><td class="cl-2f520ebb"><p class="cl-2f51c608"><span class="cl-2f51b3d4">TB</span></p></td><td class="cl-2f520eba"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ece"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ed0"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ec6"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ecf"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ecf"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520ee4"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520ed8"><p class="cl-2f51c608"><span class="cl-2f51b3d4">JAX</span></p></td><td class="cl-2f520eda"><p class="cl-2f51c608"><span class="cl-2f51b3d4">ATL</span></p></td><td class="cl-2f520ed9"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ee2"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520edb"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520eec"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ee3"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520ee3"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e59"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e56"><p class="cl-2f51c608"><span class="cl-2f51b3d4">MIA</span></p></td><td class="cl-2f520e4d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">CAR</span></p></td><td class="cl-2f520e4f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e60"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e58"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e4e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e75"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e76"><p class="cl-2f51c608"><span class="cl-2f51b3d4">NE</span></p></td><td class="cl-2f520e61"><p class="cl-2f51c608"><span class="cl-2f51b3d4">TEN</span></p></td><td class="cl-2f520e7e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e74"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e6a"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e77"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e62"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e62"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e92"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e94"><p class="cl-2f51c608"><span class="cl-2f51b3d4">NO</span></p></td><td class="cl-2f520e7f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">BUF</span></p></td><td class="cl-2f520e89"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e93"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e9c"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e88"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e8a"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e8a"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e59"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e56"><p class="cl-2f51c608"><span class="cl-2f51b3d4">NYG</span></p></td><td class="cl-2f520e4d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">PHI</span></p></td><td class="cl-2f520e4f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e60"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e9e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e9f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e9d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e9d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e59"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e56"><p class="cl-2f51c608"><span class="cl-2f51b3d4">SF</span></p></td><td class="cl-2f520e4d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">MIN</span></p></td><td class="cl-2f520e4f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520ea6"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e58"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e4e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2f520e59"><p class="cl-2f51c608"><span class="cl-2f51b3d4">12</span></p></td><td class="cl-2f520e56"><p class="cl-2f51c608"><span class="cl-2f51b3d4">WAS</span></p></td><td class="cl-2f520e4d"><p class="cl-2f51c608"><span class="cl-2f51b3d4">SEA</span></p></td><td class="cl-2f520e4f"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e60"><p class="cl-2f51c608"><span class="cl-2f51b3d4">loss</span></p></td><td class="cl-2f520e58"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e4e"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td><td class="cl-2f520e57"><p class="cl-2f51c608"><span class="cl-2f51b3d4">win</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="4ab504df-a4a4-47fc-b2d6-8e624897ae69"></div>
<script>
var dest = document.getElementById("4ab504df-a4a4-47fc-b2d6-8e624897ae69");
var template = document.getElementById("64a777a8-ddba-4356-94db-d12babf4c2e7");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<center>
<h4>
Total correct predictions for week 12
</h4/>
<center>
<table class=" lightable-material lightable-striped lightable-hover" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
Vegas
</th>
<th style="text-align:center;">
Logistic Reg.
</th>
<th style="text-align:center;">
SVM Linear
</th>
<th style="text-align:center;">
XGBoost
</th>
<th style="text-align:center;">
MLP
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
11
</td>
<td style="text-align:center;">
12
</td>
<td style="text-align:center;">
11
</td>
</tr>
</tbody>
</table>
<p><br> <br> <br></p>
<hr />
</div>
<div id="bad-week-of-predictions" class="section level2">
<h2>Bad week of predictions</h2>
<p>And now looking at week 4 where the models performed worse than
Vegas…</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A week with fewer correct predictions than Las Vegas</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>bad_week <span class="ot">&lt;-</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  pred_table <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(week <span class="sc">==</span> <span class="dv">4</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Color code TP and TN as green and FP and FN as red</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>bad_week_color <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(bad_week[, <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)] <span class="sc">==</span> bad_week[, <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>)],</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;#85E088&quot;</span>, <span class="st">&quot;indianred2&quot;</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Flextable with color coding</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>bad_week <span class="sc">%&gt;%</span> </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">flextable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">bg</span>(<span class="at">j =</span> <span class="fu">c</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">9</span>), <span class="at">bg =</span> bad_week_color) <span class="sc">%&gt;%</span> </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">add_header_row</span>(</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">values    =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span>, <span class="st">&quot;Vegas&quot;</span>, <span class="st">&quot;Models&quot;</span>), </span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">colwidths =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">theme_box</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  flextable<span class="sc">::</span><span class="fu">align</span>(<span class="at">align =</span> <span class="st">&quot;center&quot;</span>, <span class="at">part =</span> <span class="st">&quot;all&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>   flextable<span class="sc">::</span><span class="fu">fit_to_width</span>(<span class="at">max_width =</span> <span class="dv">6</span>)</span></code></pre></div>
<template id="4dd1c07a-f859-48a2-93d0-12902a0d9ad8"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-2fbdd79e{}.cl-2fb18dea{font-family:'Arial';font-size:6pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2fb18df4{font-family:'Arial';font-size:6pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2fb1a37a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2fb1f5a0{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5aa{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5ab{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5b4{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5b5{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5be{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5bf{width:40.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5c8{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5c9{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5d2{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5d3{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5d4{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5d5{width:46.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5dc{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5e6{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5e7{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5e8{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5f0{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5fa{width:40.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5fb{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f5fc{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f604{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f605{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f60e{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f60f{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f610{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f618{width:51.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f619{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f61a{width:46.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f61b{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f622{width:41.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f623{width:51.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f624{width:40.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f62c{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f62d{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f636{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f637{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f638{width:46.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f639{width:51.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f640{width:40.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f641{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f64a{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f64b{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f64c{width:41.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f64d{width:51.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f654{width:41.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f655{width:46.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f65e{width:46.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f65f{width:40.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f668{width:41.7pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f669{width:51.3pt;background-color:rgba(133, 224, 136, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f66a{width:40.3pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f66b{width:41.7pt;background-color:rgba(238, 99, 99, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f672{width:59pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f673{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f674{width:40.3pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f67c{width:28pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f67d{width:45.4pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f67e{width:41.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f686{width:51.3pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2fb1f687{width:46.7pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-2fbdd79e'>
<thead><tr style="overflow-wrap:break-word;"><td  colspan="4"class="cl-2fb1f67c"><p class="cl-2fb1a37a"><span class="cl-2fb18dea"> </span></p></td><td class="cl-2fb1f673"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">Vegas</span></p></td><td  colspan="4"class="cl-2fb1f686"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">Models</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f67c"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">week</span></p></td><td class="cl-2fb1f687"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">home_team</span></p></td><td class="cl-2fb1f67d"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">away_team</span></p></td><td class="cl-2fb1f672"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">actual_outcome</span></p></td><td class="cl-2fb1f673"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">vegas_pred</span></p></td><td class="cl-2fb1f686"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">log_reg_pred</span></p></td><td class="cl-2fb1f67e"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">svm_pred</span></p></td><td class="cl-2fb1f674"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">xgb_pred</span></p></td><td class="cl-2fb1f674"><p class="cl-2fb1a37a"><span class="cl-2fb18dea">mlp_pred</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5a0"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f5ab"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">ATL</span></p></td><td class="cl-2fb1f5aa"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">WAS</span></p></td><td class="cl-2fb1f5b4"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5be"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5b5"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5c9"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5bf"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5c8"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f636"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f62c"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">BUF</span></p></td><td class="cl-2fb1f62d"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">HOU</span></p></td><td class="cl-2fb1f61b"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f65e"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f669"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f668"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f65f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f65f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5fc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f60f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">CHI</span></p></td><td class="cl-2fb1f604"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">DET</span></p></td><td class="cl-2fb1f605"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5fb"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f64d"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f654"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5fa"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5fc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f60f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">CIN</span></p></td><td class="cl-2fb1f604"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">JAX</span></p></td><td class="cl-2fb1f605"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5fb"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5f0"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f60e"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5fc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f60f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">DAL</span></p></td><td class="cl-2fb1f604"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">CAR</span></p></td><td class="cl-2fb1f605"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5fb"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5f0"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f60e"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5e7"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f5dc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">DEN</span></p></td><td class="cl-2fb1f5e6"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">BAL</span></p></td><td class="cl-2fb1f5e8"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5d5"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f618"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f66b"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f66a"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f66a"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5fc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f60f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">GB</span></p></td><td class="cl-2fb1f604"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">PIT</span></p></td><td class="cl-2fb1f605"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5fb"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5f0"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f60e"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5e7"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f5dc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">LA</span></p></td><td class="cl-2fb1f5e6"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">ARI</span></p></td><td class="cl-2fb1f5e8"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5d5"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f618"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f66b"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f66a"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f66a"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5fc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f60f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">LAC</span></p></td><td class="cl-2fb1f604"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">LV</span></p></td><td class="cl-2fb1f605"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5fb"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f64d"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f654"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5fa"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5fa"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5e7"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f5dc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">MIA</span></p></td><td class="cl-2fb1f5e6"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">IND</span></p></td><td class="cl-2fb1f5e8"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5d5"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5d2"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5d4"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5d3"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5d3"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5fc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f60f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">MIN</span></p></td><td class="cl-2fb1f604"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">CLE</span></p></td><td class="cl-2fb1f605"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5fb"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5f0"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f60e"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5fa"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5e7"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f5dc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">NE</span></p></td><td class="cl-2fb1f5e6"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">TB</span></p></td><td class="cl-2fb1f5e8"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f619"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f618"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5d4"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5d3"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5d3"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f636"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f62c"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">NO</span></p></td><td class="cl-2fb1f62d"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">NYG</span></p></td><td class="cl-2fb1f61b"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f61a"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f623"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f622"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f624"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f624"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f641"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f64a"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">NYJ</span></p></td><td class="cl-2fb1f64b"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">TEN</span></p></td><td class="cl-2fb1f637"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f638"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f639"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f64c"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f640"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f640"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5fc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f60f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">PHI</span></p></td><td class="cl-2fb1f604"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">KC</span></p></td><td class="cl-2fb1f605"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5fb"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f64d"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f654"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f610"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f5fa"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2fb1f5fc"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">4</span></p></td><td class="cl-2fb1f60f"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">SF</span></p></td><td class="cl-2fb1f604"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">SEA</span></p></td><td class="cl-2fb1f605"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">loss</span></p></td><td class="cl-2fb1f655"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f64d"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f654"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5fa"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td><td class="cl-2fb1f5fa"><p class="cl-2fb1a37a"><span class="cl-2fb18df4">win</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="0ed81437-70fd-4877-a34a-a9610afba2bd"></div>
<script>
var dest = document.getElementById("0ed81437-70fd-4877-a34a-a9610afba2bd");
var template = document.getElementById("4dd1c07a-f859-48a2-93d0-12902a0d9ad8");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p><br></p>
<center>
<h4>
Total correct predictions for week 4
</h4/>
<center>
<table class=" lightable-material lightable-striped lightable-hover" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
Vegas
</th>
<th style="text-align:center;">
Logistic Reg.
</th>
<th style="text-align:center;">
SVM Linear
</th>
<th style="text-align:center;">
XGBoost
</th>
<th style="text-align:center;">
MLP
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
8
</td>
</tr>
</tbody>
</table>
<p><br> <br> <br></p>
<hr />
</div>
</div>
<div id="limitations-and-future-plans" class="section level1">
<h1><strong>Limitations and future plans</strong></h1>
<p>One of the biggest limitations to these models, is that there is no
accounting for injuries to players. A team that loses its starting
quarterback or any key players to injury before or during the game is
going to likely have a much worse shot of winning a game. I considered
created a binary variable that indicated whether a team was missing its
starting quarterback or was making a transition to a different
quarterback. However I didn’t end up doing this because I didn’t have an
easily accesible data with this information. I figured I could create my
own variable indicating if a quarterback change was made using snap
percentages but I didn’t go down this path. I may address this in
future, if I get an idea of how I want to do it.</p>
<p>I also wanted to include two other variables,
<strong>bad_win_pct</strong> and <strong>good_win_pct</strong>, which
would indicate the percent of games a team wins against teams under .500
and teams over .500, respectively. I didn’t think of this them until I
was finishing this write up, and chose not to go back and add them in.
I’m planning on exploring these variables further in the future.</p>
<p>I am currently working on a building out an REST API that will scrape
current game data, feed this data into one of these models, and return
predictions to end users. My goal is to have this operational by week 2
of the 2022 season.</p>
<p><br> <br> <br></p>
<hr />
</div>
<div id="conclusion" class="section level1">
<h1><strong>Conclusion</strong></h1>
<p>We did it! We implemented NFL data into a Machine learning workflow
and generated some reasonably accurate predictions.</p>
<p>To recap what happened for the skimmers out there:</p>
<ul>
<li>Started with raw NFL play-by-play data</li>
<li>Cleaned and processed the data into a model-ready format</li>
<li>Selected a handful of ML models</li>
<li>Trained and tested the models with prepped data</li>
<li>Split our data into training and testing datasets</li>
<li>Trained our models using training data and evaluated them using 10
fold cross validation.</li>
<li>Determined optimal hyperparameters and used them to refit our models
on the entire dataset</li>
<li>Generated predictions, comparing them to the predicted favorites
according to Las Vegas</li>
</ul>
<p>I’m not a huge sports bettor, but I really just wanted to make a
model that could potentially make me money if I was.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
